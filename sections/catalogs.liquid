{{ 'section-catalogs.css' | asset_url | stylesheet_tag }}

<div class="page-content-wrapper">
     {% if page.content != blank %}
          <div class="page-content">
               {{ page.content }}
          </div>
     {% endif %}

     {% if section.blocks.size > 0 %}
          <div class="page-content">
               <div class="catalogs-wrapper">
                    {% for block in section.blocks %}
                         <div class="catalog-item">
                              <a href="{{ block.settings.link }}" target="_blank">
                                   <img src="{{ block.settings.image | img_url: '310x' }}" loading="lazy">
                              </a>
                         </div>
                    {% endfor %}
               </div>
          </div>
     {% endif %}
</div>

<style>
     .catalog-wrapper {
          background: url('{{ section.settings.bg | img_url: "master" }}') center no-repeat transparent;
     }
</style>

{% schema %}
     {
          "name": "Catalogs list",
          "max_blocks": 20,
          "settings": [
               {
                    "type": "text",
                    "id": "addclass",
                    "label": "Add Class",
                    "default": "catalogs"
               },
               {
                    "type": "image_picker",
                    "id": "bg",
                    "label": "Background Image"
               }
          ],
          "blocks": [
               {
                    "type": "catalog_item",
                    "name": "Catalog",
                    "settings": [
                         {
                              "type": "image_picker",
                              "id": "image",
                              "label": "Image"
                         },
                         {
                              "type": "url",
                              "id": "link",
                              "label": "Link",
                              "info": "Download URL"
                         }
                    ]
               }
          ],
          "presets": [
               {
                    "name": "Catalogs list",
                    "category": "Image",
                    "blocks": [
                         {
                              "type": "catalog_item"
                         }
                    ]
               }
          ]
     }
{% endschema %}